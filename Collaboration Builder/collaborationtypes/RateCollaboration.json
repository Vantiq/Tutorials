{
  "active" : true,
  "appType" : false,
  "ars_properties" : {
    "ars_regenerate" : false,
    "dataVersion" : 5,
    "graph" : {
      "lastZoomRequest" : 0,
      "scale" : 0.6196911196911197,
      "translate" : [ 520.9166264478764, 21.06949806949808 ]
    },
    "groupSettings" : {
      "appGroupOpenHash" : {
        "actions" : true,
        "filters" : true,
        "flowControl" : true
      },
      "ctGroupOpenHash" : {
        "actions" : true,
        "mobile" : true
      },
      "ctServiceOpen" : false,
      "serviceGroupOpenHash" : { }
    },
    "paletteWidth" : 170,
    "propertyWidth" : 280
  },
  "ars_relationships" : [ ],
  "assembly" : {
    "EscalatePatient" : {
      "additionalBehaviors" : [ ],
      "cancellationCondition" : [ ],
      "completionCondition" : [ ],
      "configuration" : {
        "escalationBehaviors" : [ {
          "behaviors" : [ {
            "name" : "FirstResponderEscalate",
            "parameters" : [ {
              "name" : "collaboration",
              "type" : "reference",
              "value" : "collaboration"
            }, {
              "multi" : true,
              "name" : "users",
              "type" : "mixed",
              "value" : [ {
                "type" : "expression",
                "value" : "ratepatient.patientId"
              } ]
            }, {
              "name" : "payloadOverride",
              "type" : "Object",
              "value" : null
            } ],
            "type" : "activity",
            "uuid" : null
          } ],
          "condition" : "true",
          "name" : "escalate",
          "uuid" : "4789cd8f-4032-4483-9260-10c527b6028a"
        } ],
        "escalationTime" : 90
      },
      "continuationCondition" : [ ],
      "instanceParameters" : [ "ratepatient" ],
      "pattern" : "Escalation",
      "uuid" : "8ca2f5b4-3fd6-4d2e-9d8e-296f61081b14"
    },
    "FirstResponderEscalate" : {
      "additionalBehaviors" : [ ],
      "cancellationCondition" : [ ],
      "completionCondition" : [ ],
      "configuration" : {
        "body" : "Please refer to the patient HUD for '${ratepatient.patientId}'!",
        "clientName" : "FirstResponderResponse",
        "firstResponseBehaviors" : [ ],
        "responseBehaviors" : [ {
          "behaviors" : [ {
            "name" : "CollaborationUtils.closeCollaboration",
            "parameters" : [ {
              "name" : "collaborationId",
              "type" : "expression",
              "value" : "collaboration.id"
            } ],
            "type" : "service",
            "uuid" : "39961ade-f8a1-4b79-8b34-0ae8d38c1dd9"
          } ],
          "condition" : "true",
          "name" : "response",
          "uuid" : "5f2e300e-fe47-4cf4-a0e3-236b84e62bc5"
        } ],
        "title" : "${ratepatient.patientId} Heart Rate Alert (${ratepatient.heartRate})"
      },
      "continuationCondition" : [ ],
      "instanceParameters" : [ "ratepatient" ],
      "pattern" : "Notification",
      "uuid" : "11f65310-cc53-4898-8ae9-eedc1e40b84d"
    },
    "NotifyPatient" : {
      "additionalBehaviors" : [ ],
      "cancellationCondition" : [ ],
      "completionCondition" : [ ],
      "configuration" : {
        "body" : "An unusual heart rate (${ratepatient.heartRate}) has been detected",
        "clientName" : "PatientResponse",
        "firstResponseBehaviors" : [ ],
        "responseBehaviors" : [ {
          "behaviors" : [ {
            "name" : "CollaborationUtils.closeCollaboration",
            "parameters" : [ {
              "name" : "collaborationId",
              "type" : "expression",
              "value" : "collaboration.id"
            } ],
            "type" : "service",
            "uuid" : "38b19dda-21a9-44bd-8992-099d264b3ee5"
          } ],
          "condition" : "event.submitValue == 0",
          "name" : "response",
          "uuid" : "5805822b-6b7a-4a0a-82ca-40398dc733c5"
        }, {
          "behaviors" : [ {
            "name" : "CollaborationUtils.triggerEscalation",
            "parameters" : [ {
              "name" : "collaborationId",
              "type" : "expression",
              "value" : "collaboration.id"
            }, {
              "name" : "activityTypeName",
              "type" : "String",
              "value" : "EscalatePatient"
            } ],
            "type" : "service",
            "uuid" : "3719afd8-6ba3-424e-92b6-d5b7745c00c6"
          } ],
          "condition" : "event.submitValue == 1",
          "name" : "response",
          "uuid" : "a8a51b65-c6c1-46b7-9542-03863872c463"
        } ],
        "title" : "Heart Rate Alert"
      },
      "continuationCondition" : [ ],
      "instanceParameters" : [ "ratepatient" ],
      "pattern" : "Notification",
      "uuid" : "2ec04333-7bb8-4e99-b0d6-739862569a7b"
    },
    "UnusualRate" : {
      "additionalBehaviors" : [ {
        "behaviors" : [ {
          "name" : "NotifyPatient",
          "parameters" : [ {
            "name" : "collaboration",
            "type" : "reference",
            "value" : "collaboration"
          }, {
            "multi" : true,
            "name" : "users",
            "type" : "mixed",
            "value" : [ {
              "type" : "expression",
              "value" : "ratepatient.patientId"
            } ]
          }, {
            "name" : "payloadOverride",
            "type" : "Object",
            "value" : null
          } ],
          "type" : "activity",
          "uuid" : null
        }, {
          "name" : "EscalatePatient",
          "parameters" : [ {
            "name" : "collaboration",
            "type" : "reference",
            "value" : "collaboration"
          } ],
          "type" : "activity",
          "uuid" : null
        } ],
        "condition" : "true",
        "name" : null,
        "uuid" : "aac1f5d6-10f5-4af0-8cac-70068638c001"
      } ],
      "cancellationCondition" : [ ],
      "completionCondition" : [ ],
      "configuration" : {
        "condition" : "event.heartRate < 40 OR event.heartRate > 150",
        "entityRole" : "ratepatient",
        "inboundResource" : "types",
        "inboundResourceId" : "Patient",
        "op" : "UPDATE"
      },
      "continuationCondition" : [ ],
      "instanceParameters" : [ "ratepatient" ],
      "pattern" : "InitiateCollaboration",
      "uuid" : "d8ca7282-c94a-42cd-81ab-7ac282282dc8"
    }
  },
  "collaboratorRoles" : [ ],
  "compilerOCC" : 4,
  "currentState" : {
    "code" : "success"
  },
  "description" : "false",
  "disableBadging" : false,
  "entityRoles" : [ {
    "name" : "ratepatient",
    "type" : "Patient"
  } ],
  "isComponent" : false,
  "keyTypes" : [ "system.collaborations" ],
  "name" : "RateCollaboration",
  "resourceBinding" : {
    "optionalResources" : [ ],
    "requiredResources" : [ {
      "resource" : "procedures",
      "resourceId" : "collaborations.RateCollaboration.FirstResponderEscalate.start"
    }, {
      "resource" : "procedures",
      "resourceId" : "collaborations.RateCollaboration.NotifyPatient.start"
    }, {
      "resource" : "procedures",
      "resourceId" : "collaborations.RateCollaboration.EscalatePatient.start"
    }, {
      "resource" : "rules",
      "resourceId" : "collaborations.RateCollaboration.EscalatePatient_EscalationTrigger"
    }, {
      "resource" : "rules",
      "resourceId" : "collaborations.RateCollaboration.UnusualRate_DetectCondition"
    }, {
      "resource" : "rules",
      "resourceId" : "collaborations.RateCollaboration.FirstResponderEscalate_NotificationResponse"
    }, {
      "resource" : "rules",
      "resourceId" : "collaborations.RateCollaboration.NotifyPatient_NotificationResponse"
    }, {
      "resource" : "rules",
      "resourceId" : "collaborations.RateCollaboration.EscalatePatient_Expiration"
    }, {
      "resource" : "rules",
      "resourceId" : "collaborations.RateCollaboration.UnusualRate_NewCollaboration"
    }, {
      "resource" : "rules",
      "resourceId" : "collaborations.RateCollaboration.UnusualRate_CloseCollaboration"
    } ]
  }
}