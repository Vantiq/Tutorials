{
  "active" : true,
  "appType" : true,
  "ars_properties" : {
    "dataVersion" : 5,
    "graph" : {
      "lastZoomRequest" : 0,
      "scale" : 0.5529752430081563,
      "translate" : [ 321.3002167831688, 72.36392076596445 ]
    },
    "groupSettings" : {
      "appGroupOpenHash" : {
        "actions" : true,
        "component" : true,
        "filters" : true,
        "flowControl" : true,
        "modifiers" : true
      },
      "ctGroupOpenHash" : {
        "actions" : true,
        "mobile" : true
      },
      "ctServiceOpen" : false,
      "serviceGroupOpenHash" : { }
    }
  },
  "ars_relationships" : [ ],
  "assembly" : {
    "EvacuateNotification" : {
      "configuration" : {
        "collaboration" : "com.vantiq.weatherEmergencies.EvacuateNotification",
        "entityConstraint" : "",
        "parentStreams" : [ "EvacuationEvent" ]
      },
      "pattern" : "StartCollaboration",
      "patternVersion" : 1,
      "uuid" : "cf30977c-2687-497b-8ed3-9147480845e3"
    },
    "EvacuationEvent" : {
      "configuration" : {
        "childStreams" : [ "EvacuateNotification" ],
        "parentStreams" : [ "com_vantiq_weatherEmergencies_isDangerousWeather_EvacuationMessage" ],
        "topic" : "/evacuation/event"
      },
      "pattern" : "PublishToTopic",
      "patternVersion" : 1,
      "uuid" : "3e597b20-fad6-40e1-8f4f-b3a703b6354e"
    },
    "WarnNotification" : {
      "configuration" : {
        "collaboration" : "com.vantiq.weatherEmergencies.WarnNotification",
        "entityConstraint" : "",
        "parentStreams" : [ "WarningEvent" ]
      },
      "pattern" : "StartCollaboration",
      "patternVersion" : 1,
      "uuid" : "247fec4d-7c7d-499c-866d-10925211362f"
    },
    "WarningEvent" : {
      "configuration" : {
        "childStreams" : [ "WarnNotification" ],
        "parentStreams" : [ "com_vantiq_weatherEmergencies_isDangerousWeather_WarnMessage" ],
        "topic" : "/warning/event"
      },
      "pattern" : "PublishToTopic",
      "patternVersion" : 1,
      "uuid" : "6be37555-33bc-432e-8435-0cbf67e4eff4"
    },
    "WeatherReadings" : {
      "configuration" : {
        "childStreams" : [ "com_vantiq_weatherEmergencies_isDangerousWeather" ],
        "condition" : "",
        "inboundResource" : "sources",
        "inboundResourceId" : "com.vantiq.weatherEmergencies.weather",
        "parentStreams" : [ ],
        "upsert" : false
      },
      "pattern" : "EventStream",
      "patternVersion" : 1,
      "uuid" : "c5003d19-1374-48a9-8eca-40abdb54042c"
    },
    "com_vantiq_weatherEmergencies_isDangerousWeather" : {
      "configuration" : {
        "EvacuationRequired" : [ "EvacuationEvent" ],
        "WarnResidents" : [ "WarningEvent" ],
        "parentStreams" : [ ]
      },
      "downstreamUUIDS" : {
        "EvacuationRequired" : "ced3ec25-bb02-47ac-b9d5-b1674081a946",
        "WarnResidents" : "ab592163-7e6c-47cf-b393-8b0bf330237e"
      },
      "isComponent" : true,
      "pattern" : "com.vantiq.weatherEmergencies.isDangerousWeather",
      "rootTask" : "com_vantiq_weatherEmergencies_isDangerousWeather_getTemperatureAndWind",
      "uuid" : "a01c47f3-6df4-4a74-b807-e3d5fbb1c02b"
    },
    "com_vantiq_weatherEmergencies_isDangerousWeather_EvacuationMessage" : {
      "componentReference" : "com_vantiq_weatherEmergencies_isDangerousWeather",
      "configuration" : {
        "childStreams" : [ "EvacuationEvent" ],
        "enableBadging" : true,
        "parentStreams" : [ "com_vantiq_weatherEmergencies_isDangerousWeather_FireConditionsDetected" ],
        "transformation" : {
          "message" : {
            "expression" : "now().toString() + \": Fire conditions detected. The temperature is  \"+ toDecimal(event.temperature, 1).toString() + \" and wind speed is \" + event.windSpeed + \" Please evacuate to avoid further danger.\"",
            "type" : "expression"
          }
        },
        "upsert" : false
      },
      "downstreamReference" : "EvacuationRequired",
      "name" : "com_vantiq_weatherEmergencies_isDangerousWeather_EvacuationMessage",
      "pattern" : "Transformation",
      "patternVersion" : 1
    },
    "com_vantiq_weatherEmergencies_isDangerousWeather_FireConditionsDetected" : {
      "componentReference" : "com_vantiq_weatherEmergencies_isDangerousWeather",
      "configuration" : {
        "childStreams" : [ "com_vantiq_weatherEmergencies_isDangerousWeather_EvacuationMessage" ],
        "condition" : "event.temperature > 100 && event.windSpeed > 20",
        "enableBadging" : true,
        "parentStreams" : [ "com_vantiq_weatherEmergencies_isDangerousWeather_getTemperatureAndWind" ],
        "upsert" : false
      },
      "name" : "com_vantiq_weatherEmergencies_isDangerousWeather_FireConditionsDetected",
      "pattern" : "Filter",
      "patternVersion" : 1
    },
    "com_vantiq_weatherEmergencies_isDangerousWeather_WarnMessage" : {
      "componentReference" : "com_vantiq_weatherEmergencies_isDangerousWeather",
      "configuration" : {
        "childStreams" : [ "WarningEvent" ],
        "enableBadging" : true,
        "parentStreams" : [ "com_vantiq_weatherEmergencies_isDangerousWeather_isDangerousCondition" ],
        "transformation" : {
          "message" : {
            "expression" : "now().toString() + \": Be careful! Dangerous temperatures have been recorded. It is currently \" + toDecimal(event.temperature, 1).toString() + \" degrees.\"",
            "type" : "expression"
          }
        },
        "upsert" : false
      },
      "downstreamReference" : "WarnResidents",
      "name" : "com_vantiq_weatherEmergencies_isDangerousWeather_WarnMessage",
      "pattern" : "Transformation",
      "patternVersion" : 1
    },
    "com_vantiq_weatherEmergencies_isDangerousWeather_getTemperatureAndWind" : {
      "componentReference" : "com_vantiq_weatherEmergencies_isDangerousWeather",
      "configuration" : {
        "childStreams" : [ "com_vantiq_weatherEmergencies_isDangerousWeather_isDangerousCondition", "com_vantiq_weatherEmergencies_isDangerousWeather_FireConditionsDetected" ],
        "enableBadging" : true,
        "parentStreams" : [ "WeatherReadings" ],
        "transformation" : {
          "temperature" : {
            "expression" : "toReal(event.temp)",
            "type" : "expression"
          },
          "windSpeed" : {
            "expression" : "toReal(event.wind)",
            "type" : "expression"
          }
        },
        "upsert" : false
      },
      "isRoot" : true,
      "name" : "com_vantiq_weatherEmergencies_isDangerousWeather_getTemperatureAndWind",
      "pattern" : "Transformation",
      "patternVersion" : 1
    },
    "com_vantiq_weatherEmergencies_isDangerousWeather_isDangerousCondition" : {
      "componentReference" : "com_vantiq_weatherEmergencies_isDangerousWeather",
      "configuration" : {
        "childStreams" : [ "com_vantiq_weatherEmergencies_isDangerousWeather_WarnMessage" ],
        "condition" : "event.temperature < -10 || event.temperature >  90",
        "enableBadging" : true,
        "parentStreams" : [ "com_vantiq_weatherEmergencies_isDangerousWeather_getTemperatureAndWind" ],
        "upsert" : false
      },
      "name" : "com_vantiq_weatherEmergencies_isDangerousWeather_isDangerousCondition",
      "pattern" : "Filter",
      "patternVersion" : 1
    }
  },
  "collaboratorRoles" : [ ],
  "compilerOCC" : 11,
  "currentState" : {
    "code" : "success"
  },
  "disableBadging" : false,
  "entityRoles" : [ ],
  "isComponent" : false,
  "keyTypes" : [ "system.collaborations" ],
  "name" : "com.vantiq.weatherEmergencies.DetectWeatherEmergency",
  "resourceBinding" : {
    "optionalResources" : [ ],
    "requiredResources" : [ {
      "resource" : "system.eventstreams",
      "resourceId" : "com.vantiq.weatherEmergencies.DetectWeatherEmergency.WeatherReadings"
    }, {
      "resource" : "system.eventstreams",
      "resourceId" : "com.vantiq.weatherEmergencies.DetectWeatherEmergency.com_vantiq_weatherEmergencies_isDangerousWeather_EvacuationMessage"
    }, {
      "resource" : "system.eventstreams",
      "resourceId" : "com.vantiq.weatherEmergencies.DetectWeatherEmergency.EvacuationEvent"
    }, {
      "resource" : "system.eventstreams",
      "resourceId" : "com.vantiq.weatherEmergencies.DetectWeatherEmergency.com_vantiq_weatherEmergencies_isDangerousWeather_WarnMessage"
    }, {
      "resource" : "system.eventstreams",
      "resourceId" : "com.vantiq.weatherEmergencies.DetectWeatherEmergency.com_vantiq_weatherEmergencies_isDangerousWeather_getTemperatureAndWind"
    }, {
      "resource" : "system.eventstreams",
      "resourceId" : "com.vantiq.weatherEmergencies.DetectWeatherEmergency.com_vantiq_weatherEmergencies_isDangerousWeather_FireConditionsDetected"
    }, {
      "resource" : "system.eventstreams",
      "resourceId" : "com.vantiq.weatherEmergencies.DetectWeatherEmergency.WarningEvent"
    }, {
      "resource" : "system.eventstreams",
      "resourceId" : "com.vantiq.weatherEmergencies.DetectWeatherEmergency.com_vantiq_weatherEmergencies_isDangerousWeather_isDangerousCondition"
    }, {
      "resource" : "procedures",
      "resourceId" : "com.vantiq.weatherEmergencies.DetectWeatherEmergency.com_vantiq_weatherEmergencies_isDangerousWeather_getTemperatureAndWind"
    }, {
      "resource" : "procedures",
      "resourceId" : "com.vantiq.weatherEmergencies.DetectWeatherEmergency.com_vantiq_weatherEmergencies_isDangerousWeather_WarnMessage"
    }, {
      "resource" : "procedures",
      "resourceId" : "com.vantiq.weatherEmergencies.DetectWeatherEmergency.com_vantiq_weatherEmergencies_isDangerousWeather_EvacuationMessage"
    }, {
      "resource" : "rules",
      "resourceId" : "com.vantiq.weatherEmergencies.DetectWeatherEmergency.WarningEvent"
    }, {
      "resource" : "rules",
      "resourceId" : "com.vantiq.weatherEmergencies.DetectWeatherEmergency.EvacuationEvent"
    }, {
      "resource" : "rules",
      "resourceId" : "com.vantiq.weatherEmergencies.DetectWeatherEmergency.WarnNotification"
    }, {
      "resource" : "rules",
      "resourceId" : "com.vantiq.weatherEmergencies.DetectWeatherEmergency.EvacuateNotification"
    } ]
  }
}