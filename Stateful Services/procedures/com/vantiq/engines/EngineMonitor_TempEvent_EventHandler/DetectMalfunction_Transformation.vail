package com.vantiq.engines.EngineMonitor_TempEvent_EventHandler

PROCEDURE DetectMalfunction_Transformation(event) HIDDEN WITH ars_dependentResource="/collaborationtypes/com.vantiq.engines.EngineMonitor_TempEvent_EventHandler", 
    properties = {taskName: "DetectMalfunction_Transformation", isGenerated: true}

var newEvent = {}

try {
    newEvent.speed = event.speed
newEvent.systemId = event.systemId
newEvent.temperature = (event.temperature - 32) * (5/9)

} catch (ex) {
    exception("io.vantiq.app.com.vantiq.engines.EngineMonitor_TempEvent_EventHandler.DetectMalfunction_Transformation.DetectMalfunction_Transformation.transformation.failed",
              "The generated transformation procedure: {0} failed because: {1}", ["DetectMalfunction_Transformation", ex.message])
}

return newEvent